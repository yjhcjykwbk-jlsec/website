var hover_index=100,portfolio_container;(function($,window,undefined){"use strict";$(document).ready(function(){var main_menu=$(".main_menu");main_menu.removeClass('css_hover');main_menu.find('li:has(ul)').each(function(i,el){var $item=$(el),$sub=$item.find('> ul');$item.addClass('has-sub');navApplyHoverEvents($item,$sub);});var contact_form=$("form.contact_form"),cf_infoboxes=$("#cf_infoboxes"),cf_fields={name:{required:true},email:{required:true,email:true},message:{required:true}},cf_errors=[],cf_send=contact_form.find('button'),pref='&bull; ';contact_form.submit(function(ev){ev.preventDefault();if(contact_form.data('is-busy'))return false;var fields={},fields_arr=[],focus_gained=false;cf_errors=[];for(var field in cf_fields){var f=cf_fields[field],err='';fields[field]=contact_form.find('#'+field);fields[field].removeClass('has-errors');if(f['required']&&fields[field].val().length==0){err=fields[field].data('error-required')?fields[field].data('error-required'):(fields[field].data('error')?fields[field].data('error'):'Please fill the field *'+fields[field].attr('placeholder')+'*');cf_errors.push(pref+err);fields[field].addClass('has-errors');if(!focus_gained){fields[field].focus();focus_gained=true;}}elseif(f['email']&&fields[field].val().length>0&&!validateEmail(fields[field].val())){err=fields[field].data('error-email')?fields[field].data('error-email'):(fields[field].data('error')?fields[field].data('error'):'Please enter valid email for field *'+fields[field].attr('placeholder')+'*');cf_errors.push(prep+err);fields[field].addClass('has-errors');if(!focus_gained){fields[field].focus();focus_gained=true;}}}if(cf_errors.length){cf_infoboxes.html('<div class="infobox alert">Please correct the following errors: <br />'+cf_errors.join('<br>')+'</div>').children().hide().fadeTo(250,1);}else{TweenMax.to(cf_send,.5,{css:{autoAlpha:0.5}});contact_form.data('is-busy',true);var data_send={fields:{}};$.each(fields,function(key,val){val.attr('readonly',true);data_send.fields[key]=val.val();});$.ajax({url:'contactform-ajax.php',method:'POST',dataType:'json',data:data_send,success:function(resp){cf_infoboxes.html('<div class="infobox success">'+resp.success+'</div>').children().hide().fadeTo(500,1);TweenMax.to(cf_send,.5,{css:{autoAlpha:1}});}});}});if($.isFunction($.fn.isotope)){portfolio_container=$(".isotope.container .row");var dif=$('select[data-isotope-filter="1"]'),hash=window.location.hash.toString().replace('#',''),defined_categories=(function(){var arr=[];dif.children().each(function(i,el){var $this=$(el),val=$this.val();if(val.length&&$.inArray(val,['*','all'])==-1){arr.push(val);}});return arr;})();dif.find('option[value="'+hash+'"]').attr('selected',true);portfolio_container.imagesLoaded(function(){portfolio_container.isotope({columnWidth:1/4,filter:function(i,el){var cat=$(el).data('category');if($(el).hasClass('is-pagination')){return true;}if(hash.length&&$.inArray(hash,defined_categories)!=-1){if(cat){cat=cat.split(" ");if($.inArray(hash,cat)!=-1){return true;}}return false;}return true;}});$(window).resize(function(){delay(function(){portfolio_container.isotope('reLayout');},500);});delay(function(){portfolio_container.isotope('reLayout');},200);});}if($.isFunction($.fn.selectbox)){$(".sb").selectbox({onChange:function(){var $this=$(this),val=$this.val();if($this.data('isotope-filter')==1){var ot=$(window).scrollTop();window.location.hash=val;$(window).scrollTop(ot);portfolio_container.isotope({filter:function(i,el){var $el=$(el),cat=$el.data('category');if($.inArray(val,['*','all',''])!=-1){return true;}elseif($el.hasClass('is-pagination')){return true;}if(cat){cat=cat.split(" ");if($.inArray(val,cat)!=-1){return true;}}return false;}});}elseif($this.data('url-redirect')==1){window.location=$this.val();}return true;}});}if(typeof window.Shadowbox!='undefined'){Shadowbox.init({handleOversize:'resize',continuous:true});}if($.isFunction($.fn.fadeOSlider)){var project_images=$(".project_images");var pid_prevnext=$('.project_images .prev_next_nav');project_images.fadeOSlider({selector:'a',prevNext:pid_prevnext,keyboard:true});}if($.isFunction($.fn.anGallery)){var gallery=$("#an_gallery"),hover_delay=0.5;gallery.anGallery({itemSelector:'a',slideShow:$('.album_frame'),detectHashChange:true});gallery.find('.gallery_item').each(function(){var $item=$(this);var $hover_overlay=$('<div class="hover" />');$item.append($hover_overlay).on({mouseover:function(){if(!$item.hasClass('active'))TweenMax.to($hover_overlay,hover_delay,{css:{autoAlpha:1}});},mouseout:function(){TweenMax.to($hover_overlay,hover_delay,{css:{autoAlpha:0}});}});});}});if($.isFunction($.fn.slidesjs)){var slides=$("#slider_container .slides");slides.slidesjs({width:940,height:400,navigation:false,play:{active:true,auto:true,interval:parseInt(slides.data('timeout')*1000,10),swap:true}});}if($.isFunction($.fn.wideslider)){var wideslider_env=$("#wideslider"),hh=$("header").outerHeight();wideslider_env.wideslider({wrapper:'body',delay:800,nextPrev:$(".wideslider_nextprev"),prevNextOnKeyboard:true,progressTimer:true,autoCenterCaptions:false,headerHeight:hh,autoCenterVerticalOffset:-25,});wideslider_env.wideslider('autoCenter');}if(typeof selectnav=='function'){selectnav('main_menu',{label:'- Main Menu -'});$(".mobile_menu").append($(".selectnav"));}if($.isFunction($.fn.tabs)){var tabs=$('div.tabs');tabs.each(function(){var tab_env=$(this);tab_env.tabs();});var accordion=$('div.accordion');accordion.each(function(){var accordion_env=$(this);accordion_env.accordion();});}if($.isFunction($.fn.anTweetRoller)){var tweets_v2=$(".widget_laborator_twitter_v2 .tweets_v2");tweets_v2.anTweetRoller({switchDelay:800,effect:'fly',flyDist:50,ease:Power0.easeInOut,numbers:tweets_v2.next()});}if($.isFunction($.fn.socialShare)){var ss=$('.social-share');ss.each(function(){var $this=$(this);$this.socialShare({social:$this.data('social'),whenSelect:true,selectContainer:'.social-share-env'});$this.on('click',function(ev){ev.preventDefault();});});}$(".portfolio").on('click','.likes',function(ev){ev.preventDefault();var $el=$(ev.target),id=$el.data('id'),nonce=$el.data('verify'),is_single=$el.hasClass('single'),type=$el.hasClass('liked')?'unlike':'like';TweenMax.to($el,.3,{css:{autoAlpha:0.5}});laborator_like_item(id,nonce,type,function(resp){var tl=new TimelineMax();if(is_single){tl.to($el,.5,{css:{autoAlpha:1}});$el.find('span').html(resp.likes);}else{tl.to($el,.15,{css:{autoAlpha:1,scale:1.2}}).to($el,.15,{css:{scale:1}});}if(type=='like'){$el.addClass('liked');}else{$el.removeClass('liked');}});});var partners_carousel=$(".partners_carousel"),pc_autoswitch=partners_carousel.data('autoswitch');if($.isFunction($.fn.anCarousel)){partners_carousel.anCarousel({itemsPerRow:4,autoSlide:pc_autoswitch,pauseOnHover:true,animationEngine:'gsap'});partnersCarouselFit();$(window).resize(function(){delay(function(){partnersCarouselFit();},500);});}})(jQuery,window);function navApplyHoverEvents($item,$sub){var del=0.5,trans_x=-10,ease=Sine.easeInOut;TweenMax.set($sub,{css:{autoAlpha:0,transform:"translateX("+trans_x+"px)"}});$item.hoverIntent({over:function(){if($sub=='none'){$sub.css({display:'block',visibility:'hidden'});}$sub.css({zIndex:++hover_index});TweenMax.to($sub,del,{css:{autoAlpha:1,transform:"translateX(0px)"},ease:ease});},out:function(){TweenMax.to($sub,del,{css:{autoAlpha:0,transform:"translateX("+trans_x+"px)"},ease:ease,onComplete:function(){TweenMax.set($sub,{css:{transform:"translateX("+trans_x+"px)"}});$sub.css({display:'none'});}});},timeout:300,interval:50});}function validateEmail(email){var re=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return re.test(email);}var delay=(function(){var timer=0;return function(callback,ms){clearTimeout(timer);timer=setTimeout(callback,ms);};})();function laborator_like_item(id,nonce,type,callback){if(typeof window.ajaxurl=='string'){var like_data={action:'laborator_likes',like_verify_key:nonce,post_id:id,type:type};jQuery.getJSON(window.ajaxurl,like_data,function(resp){if(typeof callback=='function'){callback(resp);}});}else{alert("Ajax URL is not defined!")}}function partnersCarouselFit(){var partners_carousel_instance=jQuery(".partners_carousel").data('ancarouselinstance');;if(typeof partners_carousel_instance!='undefined'){switch(test_device_type()){case"large_screen":partners_carousel_instance.updateItemsPerRowNumber(4);break;case"ipad":partners_carousel_instance.updateItemsPerRowNumber(3);break;case"iphone_landscape":case"iphone":partners_carousel_instance.updateItemsPerRowNumber(2);break;}}}var win;function test_device_type(callback){if(!win)win=jQuery(window);var win_width=win.width();var break_points={iphone:[100,479],iphone_landscape:[480,767],ipad:[768,959],large_screen:[960,3840]};for(var device_type in break_points){var device_width=break_points[device_type];if(win_width>=device_width[0]&&win_width<=device_width[1]){current_device_type=device_type;if(typeof callback=='function'){callback.apply(this,[current_device_type]);}return device_type;}}}